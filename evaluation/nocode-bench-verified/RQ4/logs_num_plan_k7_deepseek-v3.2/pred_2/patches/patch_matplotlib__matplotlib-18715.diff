diff --git a/lib/matplotlib/axis.py b/lib/matplotlib/axis.py
index fbaa79e..54c8ce8 100644
--- a/lib/matplotlib/axis.py
+++ b/lib/matplotlib/axis.py
@@ -774,6 +774,17 @@ class Axis(martist.Artist):
             self._scale = value
         self._scale.set_default_locators_and_formatters(self)
 
+        # Set the ndivs for AutoMinorLocator from rcParams
+        from matplotlib.ticker import AutoMinorLocator
+        if isinstance(self.minor.locator, AutoMinorLocator):
+            axis_name = self._get_axis_name()
+            if axis_name == 'x':
+                ndivs = mpl.rcParams['xtick.minor.ndivs']
+            else:  # 'y'
+                ndivs = mpl.rcParams['ytick.minor.ndivs']
+            if ndivs != 'auto':
+                self.minor.locator.ndivs = ndivs
+
         self.isDefault_majloc = True
         self.isDefault_minloc = True
         self.isDefault_majfmt = True
diff --git a/lib/matplotlib/rcsetup.py b/lib/matplotlib/rcsetup.py
index 38580cf..29644af 100644
--- a/lib/matplotlib/rcsetup.py
+++ b/lib/matplotlib/rcsetup.py
@@ -128,6 +128,14 @@ def validate_any(s):
 validate_anylist = _listify_validator(validate_any)
 
 
+def validate_int_or_auto(s):
+    if s == 'auto':
+        return s
+    try:
+        return int(s)
+    except (ValueError, TypeError):
+        raise ValueError(f'{s!r} must be "auto" or an integer')
+
 def _validate_date(s):
     try:
         np.datetime64(s)
