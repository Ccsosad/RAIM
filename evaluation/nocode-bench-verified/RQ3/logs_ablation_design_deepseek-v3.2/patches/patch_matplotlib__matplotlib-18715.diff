diff --git a/lib/matplotlib/rcsetup.py b/lib/matplotlib/rcsetup.py
index 38580cf..89e74cd 100644
--- a/lib/matplotlib/rcsetup.py
+++ b/lib/matplotlib/rcsetup.py
@@ -128,6 +128,24 @@ def validate_any(s):
 validate_anylist = _listify_validator(validate_any)
 
 
+def validate_auto_minor_ndivs(v):
+    """
+    Validate rcParams `xtick.minor.ndivs` and `ytick.minor.ndivs`.
+    
+    Accepts either a positive integer or the string 'auto'.
+    """
+    if v == 'auto':
+        return v
+    try:
+        v_int = int(v)
+        if v_int > 0:
+            return v_int
+        else:
+            raise ValueError
+    except (ValueError, TypeError):
+        raise ValueError(f"Value must be 'auto' or a positive integer, got {v!r}")
+
+
 def _validate_date(s):
     try:
         np.datetime64(s)
diff --git a/lib/matplotlib/ticker.py b/lib/matplotlib/ticker.py
index 3e28678..df25be4 100644
--- a/lib/matplotlib/ticker.py
+++ b/lib/matplotlib/ticker.py
@@ -2891,13 +2891,27 @@ class AutoMinorLocator(Locator):
             return []
 
         if self.ndivs is None:
-
-            majorstep_no_exponent = 10 ** (np.log10(majorstep) % 1)
-
-            if np.isclose(majorstep_no_exponent, [1.0, 2.5, 5.0, 10.0]).any():
-                ndivs = 5
+            # Determine which axis we are on to select the correct rcParam
+            # The axis has an 'axis_name' property: 'x' for x-axis, 'y' for y-axis
+            axis_name = getattr(self.axis, 'axis_name', None)
+            if axis_name == 'x':
+                ndivs_param = mpl.rcParams['xtick.minor.ndivs']
+            elif axis_name == 'y':
+                ndivs_param = mpl.rcParams['ytick.minor.ndivs']
+            else:
+                # Fallback to x-axis default if we can't determine
+                ndivs_param = mpl.rcParams['xtick.minor.ndivs']
+            
+            if ndivs_param == 'auto':
+                # Use the existing automatic logic
+                majorstep_no_exponent = 10 ** (np.log10(majorstep) % 1)
+                if np.isclose(majorstep_no_exponent, [1.0, 2.5, 5.0, 10.0]).any():
+                    ndivs = 5
+                else:
+                    ndivs = 4
             else:
-                ndivs = 4
+                # Use the value from rcParams
+                ndivs = ndivs_param
         else:
             ndivs = self.ndivs
 
